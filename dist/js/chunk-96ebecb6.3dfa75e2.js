(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-96ebecb6"],{"0b42":function(t,e,n){var c=n("861d"),o=n("e8b5"),a=n("b622"),r=a("species");t.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)?c(e)&&(e=e[r],null===e&&(e=void 0)):e=void 0),void 0===e?Array:e}},"1dde":function(t,e,n){var c=n("d039"),o=n("b622"),a=n("2d00"),r=o("species");t.exports=function(t){return a>=51||!c((function(){var e=[],n=e.constructor={};return n[r]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"552f":function(t,e,n){},"65f0":function(t,e,n){var c=n("0b42");t.exports=function(t,e){return new(c(t))(0===e?0:e)}},8418:function(t,e,n){"use strict";var c=n("a04b"),o=n("9bf2"),a=n("5c6c");t.exports=function(t,e,n){var r=c(e);r in t?o.f(t,r,a(0,n)):t[r]=n}},9201:function(t,e,n){"use strict";n.r(e);var c=n("7a23");Object(c["z"])("data-v-4ee55fc2");var o={class:"container"},a=Object(c["h"])("h1",{class:"pt-5"},"購物車列表",-1),r={class:"row cart-list"},i={class:"table align-middle"},u=Object(c["h"])("thead",null,[Object(c["h"])("tr",null,[Object(c["h"])("th",{scope:"col"}),Object(c["h"])("th",{scope:"col"},"圖片"),Object(c["h"])("th",{scope:"col"},"商品名稱"),Object(c["h"])("th",{scope:"col"},"數量"),Object(c["h"])("th",{scope:"col"},"單價"),Object(c["h"])("th",{scope:"col"},"小計")])],-1),s={scope:"row"},l=["onClick"],b=Object(c["h"])("i",{class:"bi bi-trash"},null,-1),d=[b],h=["src"],p={class:"input-group"},f=["onClick"],j=Object(c["h"])("i",{class:"bi bi-dash-lg"},null,-1),O=[j],v=["onUpdate:modelValue","onChange"],m=["onClick"],g=Object(c["h"])("i",{class:"bi bi-plus-lg"},null,-1),y=[g],x={class:"table-footer"},C=Object(c["h"])("td",{colspan:"5",class:"text-end"},"總計",-1),w={class:"text-end"},k={colspan:"6",class:"text-end"};function I(t,e,n,b,j,g){var I=Object(c["F"])("Loading");return Object(c["w"])(),Object(c["g"])(c["a"],null,[Object(c["k"])(I,{active:j.isLoading},null,8,["active"]),Object(c["h"])("div",o,[a,Object(c["h"])("div",r,[Object(c["h"])("table",i,[u,Object(c["h"])("tbody",null,[(Object(c["w"])(!0),Object(c["g"])(c["a"],null,Object(c["D"])(j.cartInfo.carts,(function(t,e){return Object(c["w"])(),Object(c["g"])("tr",{key:e,class:"txt"},[Object(c["h"])("th",s,[Object(c["h"])("button",{type:"button",class:"btn btn-outline-danger delete",onClick:Object(c["S"])((function(e){return g.removeItem(t.id)}),["prevent"])},d,8,l)]),Object(c["h"])("td",null,[Object(c["h"])("img",{src:t.product.imageUrl,alt:""},null,8,h)]),Object(c["h"])("td",null,Object(c["I"])(t.product.title),1),Object(c["h"])("td",null,[Object(c["h"])("div",p,[Object(c["h"])("button",{class:"btn btn-outline-success plus-minus",type:"button",onClick:function(e){return g.minusNum(t)}},O,8,f),Object(c["Q"])(Object(c["h"])("input",{type:"number",class:"form-control","aria-label":"Recipient's username","aria-describedby":"basic-addon2","onUpdate:modelValue":function(e){return t.qty=e},min:"1",onChange:function(e){return g.updateCart(t)}},null,40,v),[[c["M"],t.qty,void 0,{number:!0}]]),Object(c["h"])("button",{class:"btn btn-outline-success plus-minus",type:"button",onClick:function(e){return g.plusNum(t)}},y,8,m)])]),Object(c["h"])("td",null,Object(c["I"])(t.product.price)+" 元",1),Object(c["h"])("td",null,"$NT "+Object(c["I"])(t.final_total)+" 元",1)])})),128))]),Object(c["h"])("tfoot",null,[Object(c["h"])("tr",x,[C,Object(c["h"])("td",w,"$NT "+Object(c["I"])(j.cartInfo.final_total)+" 元",1)]),Object(c["h"])("tr",null,[Object(c["h"])("td",k,[Object(c["h"])("button",{type:"button",class:"btn btn-secondary text-primary",onClick:e[0]||(e[0]=function(){return g.ToOrder&&g.ToOrder.apply(g,arguments)})},"確認結帳")])])])])])])],64)}Object(c["x"])();n("99af");var N={data:function(){return{cartInfo:{},isLoading:!1,cartNum:0}},inject:["emitter"],methods:{getCart:function(){var t=this;this.isLoading=!0;var e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("john0531-api","/cart");this.axios.get(e).then((function(e){console.log(e.data.data),t.cartInfo=e.data.data,t.cartNum=e.data.data.carts.length,t.emitter.emit("sendNavbar",t.cartNum),t.isLoading=!1}))},removeItem:function(t){var e=this,n="".concat("https://vue3-course-api.hexschool.io/","api/").concat("john0531-api","/cart/").concat(t);this.isLoading=!0,this.axios.delete(n).then((function(t){console.log(t),e.getCart()}))},minusNum:function(t){t.qty--,t.qty<1&&(t.qty=1),this.updateCart(t)},plusNum:function(t){t.qty++,this.updateCart(t)},updateCart:function(t){var e=this,n="".concat("https://vue3-course-api.hexschool.io/","api/").concat("john0531-api","/cart/").concat(t.id);this.isLoading=!0;var c={product_id:t.product_id,qty:t.qty};this.axios.put(n,{data:c}).then((function(t){console.log(t),e.getCart()}))},ToOrder:function(){this.$router.push("/mall/order")}},created:function(){this.getCart()}};n("e262");N.render=I,N.__scopeId="data-v-4ee55fc2";e["default"]=N},"99af":function(t,e,n){"use strict";var c=n("23e7"),o=n("d039"),a=n("e8b5"),r=n("861d"),i=n("7b0b"),u=n("50c4"),s=n("8418"),l=n("65f0"),b=n("1dde"),d=n("b622"),h=n("2d00"),p=d("isConcatSpreadable"),f=9007199254740991,j="Maximum allowed index exceeded",O=h>=51||!o((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),v=b("concat"),m=function(t){if(!r(t))return!1;var e=t[p];return void 0!==e?!!e:a(t)},g=!O||!v;c({target:"Array",proto:!0,forced:g},{concat:function(t){var e,n,c,o,a,r=i(this),b=l(r,0),d=0;for(e=-1,c=arguments.length;e<c;e++)if(a=-1===e?r:arguments[e],m(a)){if(o=u(a.length),d+o>f)throw TypeError(j);for(n=0;n<o;n++,d++)n in a&&s(b,d,a[n])}else{if(d>=f)throw TypeError(j);s(b,d++,a)}return b.length=d,b}})},e262:function(t,e,n){"use strict";n("552f")},e8b5:function(t,e,n){var c=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==c(t)}}}]);
//# sourceMappingURL=chunk-96ebecb6.3dfa75e2.js.map